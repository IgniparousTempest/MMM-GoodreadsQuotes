import banner from 'rollup-plugin-banner';
import commonjs from 'rollup-plugin-commonjs';
import resolve from 'rollup-plugin-node-resolve';
import typescript from 'rollup-plugin-typescript';

const bannerText = [
    'MagicMirror Module: Goodreads Quotes',
    '<%= pkg.description %>',
    '',
    'Version <%= pkg.version %>',
    'By <%= pkg.author %>',
    '',
    'License <%= pkg.license %>',
    '',
    'This is an autogenerated file. DO NOT EDIT!',
].join('\n');

export default [
    {
        input: './src/MMM-GoodreadsQuotes.ts',
        plugins: [
            typescript(),
            resolve(),
            commonjs(),
            banner.default(bannerText),
        ],
        output: {
            file: './MMM-GoodreadsQuotes.js',
            format: 'iife',
        },
    }, {
        input: './src/node_helper.ts',
        plugins: [
            typescript(),
            banner.default(bannerText),
        ],
        output: {
            file: './node_helper.js',
            format: 'cjs',
        },
    },
]
